{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block title %} Profile---{{request.user}}  {% endblock %}


{% block body_block %}

<div class="container" style = "padding:30px;">
  <div class="row">
    <div class="col-lg-4">
      {% if not user.user_profile.profile_pic %}
       <img src="/media/profile_pics/self.jpg" width="220px" height="220px" class="rounded-circle" >
      {% else %}
      No profile picture.
      {% endif %}
      <br><hr>
      Number of uploads:<strong>{{posts_by_user.count}}</strong><br>
      <p> Videos: {{videos_count}} &nbsp;&nbsp;&nbsp&nbsp; Images: {{images_count}}</p>
      <p><mark>Date joined---{{request.user.date_joined}}</mark></p>
      <a href = "{% url 'display' %}" data-toggle="tooltip" title="Go back">
       <i class ="fa fa-arrow-circle-left" style="font-size:1.2em;" aria-hidden="true"></i>
      </a>
      {{posts_by_user.isVideo.count}}
      {% comment %}
      Postid, Likes count<br>
      {% for p in posts_by_user %}
      {{p.id}}, {{p.liked_image.count}}
      <br>
      {% endfor %}
      {% endcomment %}

      </div>
  <div class="col-lg-4">
    {% if most_liked_post.isVideo == 0 %}
  <img src="{{ most_liked_post.your_image.url }}" class="img-responsive"
               style="width: 70%;  display:auto;" />
    {% else %}
  <video width="400" height="300" autoplay muted controls>
  <source src="{{MEDIA_URL}}{{most_liked_post.your_image.url}}" type = "video/mp4">
  Your browser doesn't support video tag.</video>
  {% endif %}
  <br>
  Post with maximum likes equal to {{most_liked_post.liked_image.count}}
  </div>
  </div>

</div>
{% endblock %}
